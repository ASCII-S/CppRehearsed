# 虚函数表（VTable）自测题

## 基础概念题

### 1. 什么是虚函数表？
**请简述虚函数表的定义和作用**
（键盘输入你的答案）

---

### 2. vptr 是什么？
**请解释 vptr 的含义、位置和作用**
（键盘输入你的答案）

---

### 3. 虚函数表在内存中的位置
**虚函数表存储在程序的哪个内存区域？为什么？**
（键盘输入你的答案）

---

## 机制理解题

### 4. 虚函数调用过程
**请详细描述通过基类指针调用虚函数的完整过程（至少4个步骤）**
（键盘输入你的答案）

---

### 5. 对象内存布局
**包含虚函数的类对象在内存中是如何布局的？vptr 通常位于什么位置？**
（键盘输入你的答案）

---

### 6. 虚函数表共享
**同一个类的多个对象是否共享虚函数表？为什么？**
（键盘输入你的答案）

---

## 多重继承题

### 7. 多重继承中的虚函数表
**在多重继承中，一个对象可能包含多少个 vptr？请举例说明**
（键盘输入你的答案）

---

### 8. 指针调整（Pointer Adjustment）
**什么是指针调整？在什么情况下需要进行指针调整？**
（键盘输入你的答案）

---

### 9. 虚继承的复杂性
**虚继承如何影响虚函数表的结构？VTT 是什么？**
（键盘输入你的答案）

---

## 性能与实现题

### 10. 虚函数调用开销
**虚函数调用相比直接函数调用有什么额外开销？**
（键盘输入你的答案）

---

### 11. 内存开销
**使用虚函数会带来多少内存开销？包括哪些方面？**
（键盘输入你的答案）

---

### 12. 编译器优化
**编译器在什么情况下可以优化虚函数调用？什么是 devirtualization？**
（键盘输入你的答案）

---

## 常见陷阱题

### 13. 构造函数中的虚函数调用
**在构造函数中调用虚函数会发生什么？为什么？**
（键盘输入你的答案）

---

### 14. 虚析构函数的必要性
**为什么基类需要虚析构函数？不使用会导致什么问题？**
（键盘输入你的答案）

---

### 15. 对象切片与虚函数
**对象切片如何影响多态性？为什么值传递会丢失多态特性？**
（键盘输入你的答案）

---

## 高级应用题

### 16. 虚函数表的实际应用场景
**请列举3个适合使用虚函数表的实际应用场景并说明原因**
（键盘输入你的答案）

---

### 17. 性能优化策略
**在性能敏感的代码中，有哪些替代虚函数的设计模式？**
（键盘输入你的答案）

---

### 18. 分支预测对虚函数的影响
**CPU 的分支预测如何影响虚函数调用性能？如何优化？**
（键盘输入你的答案）

---

## 设计问题题

### 19. 虚函数 vs 模板
**在什么情况下选择虚函数？什么情况下选择模板？请比较两者的优缺点**
（键盘输入你的答案）

---

### 20. 虚函数表的设计权衡
**虚函数表的设计体现了哪些工程权衡？为什么 C++ 选择这种实现方式？**
（键盘输入你的答案）

---

## 答题说明
- 每题请用键盘输入完整的答案
- 重点考查概念理解和实际应用
- 建议控制每题答案在 50-150 字之间
- 可以适当举例说明
- 完成后可以参考标准答案进行对比

## 评分标准
- **优秀（18-20题正确）**：虚函数表机制理解深入，能处理复杂场景
- **良好（15-17题正确）**：基本概念扎实，能应对常见面试问题  
- **及格（12-14题正确）**：掌握基础知识，需要加强实践理解
- **需要提高（<12题正确）**：建议重新学习相关概念 